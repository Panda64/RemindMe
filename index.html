<!DOCTYPE html>
<html>
    <head>
        <title>RemindMe</title>
        <link rel="stylesheet" href="odometer-theme-default.css" />
    </head>
    <body>
        <article id="first-page">
            <h1>Need a Reminder? Look no Further.</h1>
            <form id="main-message">
                <p id="message-title">Message</p>
                    <textarea id="message"></textarea>
            </form>
            <section id="main-method">
                <p id="method-header">Method</p>
                <form id="method-check">
                    <section id="whole-browser">
                        <input type="checkbox" id="browser">
                        <label for="browser">Browser Notification</label>
                    </section>
                    <section id="whole-email">
                        <input type="checkbox" id="email" disabled>
                        <label for="email" class="disabled">E-Mail</label>
                    </section>
                    <section id="whole-sms">
                        <input type="checkbox" id="sms" disabled>
                        <label for="sms" class="disabled">Text Message</label>
                    </section>
                    <section id="whole-phone">
                        <input type="checkbox" id="phone" disabled>
                        <label for="phone" class="disabled">Phone Call</label>  
                    </section>
                    <section id="whole-mail">
                        <input type="checkbox" id="mail" disabled>
                        <label for="mail" class="disabled">Mail</label>
                    </section>
                </form>
            </section>
            <p id="time">
                I want to be reminded in 
                <input type="number" id="minutes" min="0"> 
                <span id="min-word">minutes</span>
                and 
                <input type="number" id="seconds" min="0"> 
                <span id="sec-word">seconds.</span>
            </p>
            <button type="button" id="submit">Set Reminder</button>
        </article>
        <article id="second-page">
            <h1>Sample Text</h1>
            <section id="countdown-main">
                <p id="countdown-title">Time Left</p>
                <p id="countdown">
                    <span id="countdown-min" class="odometer">1</span>
                    :
                    <span id="countdown-sec" class="odometer">04</span>
                </p> 
            </section>
        </article>
    </body>
</html>
<style>
    body {
        font-family: "Arial Black";
        margin: 0;
        color: white;
    }

    article {
        min-height: 100vh;
    }

    #first-page {
        text-align: center;
        background-color:#45a3e5;
        display: flex;
        flex-direction: column;
        justify-content: space-around;
    }
    
    h1 {
        font-size: 50px;
    }

    .disabled {
        color: rgba(255, 255, 255, 0.5);
    }

    #main-message {
        display: flex;
        justify-content: center;
    }

    #message-title {
        padding-right: 50px;
        font-size: 35px;
    }
    
    #method-header {
        font-size: 35px;
    }

    #method-check {
        display: flex;
        justify-content: space-around;
    }

    textarea {
        width: 500px;
        height: 100px;
        resize: none;
        font-size: 20px;
    }

    #time {
        font-size: 25px;
    }

    input[type=number] {
        background-color: #45a3e5;
        border: none;
        font-family: "Arial Black";
        color: lightgreen;
        font-size: 25px;
        width: 60px;
    }

    button {
        background-color: rgb(24, 24, 24);
        color: white;
        font-family: "Arial Black";
        text-decoration: none;
        cursor: pointer;
        border: none;
        width: 250px;
        height: 75px;
        text-align: center;
        font-size: 25px;
        align-self: center;
    }

    #second-page {
        background-color: lightgreen;
        text-align: center;
        display: flex;
        overflow: hidden;
        flex-direction: column;
        justify-content: flex-start;
    }

    #countdown {
        font-size: 100px;
        margin-top: -15px;
    }

    #countdown-main {
        padding-top: 100px;
    }

    #countdown-title {
        font-size: 35px;
    }

</style>
<script src="odometer.js"></script>
<script>

    const minutesInput = document.querySelector('#minutes')
    const secondsInput = document.querySelector('#seconds')
    const minWord = document.querySelector('#min-word')
    const secWord = document.querySelector('#sec-word')
    const reminderMessage = document.querySelector('#message')
    const browserCheckbox = document.querySelector('#browser')
    const submitButton = document.querySelector('#submit')
    const secondPage = document.querySelector('#second-page')
    const countdownMin = document.querySelector('#countdown-min')
    const countdownSec = document.querySelector('#countdown-sec')

    const reminderSuccess = ['Got it! Your Reminder is Set',
                             'All Good to Go!',
                             'Reminder is Locked and Loaded',
                             'You Have Successfully Set Your Reminder!',
                             'Mission Successful. You will be Reminded when the Timer is Up.',
                             'Nice. Feel Free to Forget Now, I Will Remind You When the Time Comes.']

    const time = {
        minutes: minutesInput.value * 1,
        seconds: secondsInput.value * 1
    }
    
    function validateMinutes() {
        minutesValue = minutesInput.value
        if (minutesValue === "1") {
            return "minute"
        } else {
            return "minutes"
        }
    }

    function validateSeconds() {
        secondsValue = secondsInput.value
        if (secondsValue === "1") {
            return "second"
        } else {
            return "seconds"
        }
    }

    function validateTime() {
        minWord.innerHTML = validateMinutes()
        secWord.innerHTML = validateSeconds()
    }

    function validateFields() {
        minutesValue = minutesInput.value
        secondsValue = secondsInput.value
        messageValue = reminderMessage.value

        if (minutesValue === "" || secondsValue === "" || messageValue === "" || browserCheckbox.checked === false) {
            alert("You must fill out all fields")
        } else {
            secondPage.style.display = "flex"
            SmoothVerticalScrolling(secondPage, 500, "top")
            countdownMin.innerHTML = minutesValue
            countdownSec.innerHTML = secondsValue
            countdownHandler()
        }
    }

    minutesInput.addEventListener('input', validateTime)
    secondsInput.addEventListener('input', validateTime)

    submitButton.addEventListener('click', validateFields)

    function SmoothVerticalScrolling(e, time, where) {
        var eTop = e.getBoundingClientRect().top;
        var eAmt = eTop / 100;
        var curTime = 0;
        while (curTime <= time) {
            window.setTimeout(SVS_B, curTime, eAmt, where);
            curTime += time / 100;
        }
    }

    function SVS_B(eAmt, where) {
        if(where == "center" || where == "")
            window.scrollBy(0, eAmt / 2);
        if (where == "top")
            window.scrollBy(0, eAmt);
    }
    
    function countdownHandler() {

        var time = {
            minutes: minutesInput.value * 1,
            seconds: secondsInput.value * 1
        };

        var timer = setInterval(countdown, 1000)

        function countdown() {
            if (time.seconds > 0) {
                time.seconds--
            } 
            else {
                if (time.minutes > 0) {
                    time.minutes--
                    time.seconds = 60
                }
                else {
                    time.minutes = 00
                    time.seconds = 00
                }
            }

            if (time.minutes >= 0 && time.seconds >= 10) {
                countdownMin.innerHTML = time.minutes
                countdownSec.innerHTML = time.seconds
            } else if (time.minutes >= 0 && time.seconds >= 0) {
                countdownMin.innerHTML = time.minutes
                countdownSec.innerHTML = `0${time.seconds}`
            }
            else {
                clearInterval(timer)
            }
        }
    }

</script>